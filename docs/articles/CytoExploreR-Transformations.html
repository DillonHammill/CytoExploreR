<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data Transformations • CytoExploreR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Data Transformations">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CytoExploreR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/CytoExploreR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/CytoExploreR-Compensation.html">Compensation of Fluorescent Spillover</a>
    </li>
    <li>
      <a href="../articles/CytoExploreR-Manual-Gating.html">Manual Gating</a>
    </li>
    <li>
      <a href="../articles/CytoExploreR-Transformations.html">Data Transformations</a>
    </li>
    <li>
      <a href="../articles/CytoExploreR-Visualisations.html">Viualise Cytometry Data with cyto_plot()</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/DillonHammill/CytoExploreR">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Data Transformations</h1>
                        <h4 class="author">Dillon Hammill</h4>
            
            <h4 class="date">2020-03-05</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/DillonHammill/CytoExploreR/blob/master/vignettes/CytoExploreR-Transformations.Rmd"><code>vignettes/CytoExploreR-Transformations.Rmd</code></a></small>
      <div class="hidden name"><code>CytoExploreR-Transformations.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<div style="line-height: 1.8em;">
Data transformations are essential for appropriately visualising cytometry data. This requirement for data transformations is due to the large dynamic range of cytometry data makes it difficult visualise both positive and negative events on a linear scale. As you can see below, the values for flow cytometry extend from 0 to 262144 which is an enormous range for fluorescent intensity values. Clearly, visualising the data on this scale is not going to allow us to identify discrete negative and positive populations.
</div>
<p><br></p>
<p><img src="Transformations/Transformations-1.png" width="60%" style="display: block; margin: auto;"></p>
<p><br></p>
<div style="line-height: 1.8em;">
To overcome this visulisation problem, traditionally cytometry data has been transformed using log transformations to improve visualisation and separation of negative and positive events into discrete populations. As you can see below, log transformations handle high fluorescent intensity values quite well, but struggle with values approaching zero. This results in these lower values being dumped on the lower end of the scale, which makes it appear as though the data contains three distinct populations based on fluorescent intensity. This problem is further highlighted when applying compensation to the data as it introduces more values that approach zero and below.
</div>
<p><br></p>
<p><img src="Transformations/Transformations-2.png" width="60%" style="display: block; margin: auto;"></p>
<p><br></p>
<div style="line-height: 1.8em;">
Recently, more sophisticated transformations such as the hyperbolic arcsine, biexponential and logicle transformations have been used to overcome the limitations of the log transformation. The result of applying these transformations using the default parameters to the Alexa Fluor 488 channel is shown below for easy comparison. As you can see, all the transformations seem to handle the higher fluorescent intensity values in a similar manner, but differ in their approach to dealing with values nearing zero. For flow cytometry data, the biexponential and logicle transformations seem to provide the best visualisation of the data as discrete negative and positive populations are clearly visible. It is important to note that the optimal transformation for each parameter is data-dependant and users should explore the different transformation types to obtain the best visualisation of the data. This process will be documented later in this vignette.
</div>
<p><br></p>
<p><img src="Transformations/Transformations-3.png" width="100%" style="display: block; margin: auto;"></p>
<p><br></p>
<div style="line-height: 1.8em;">
<p><strong>CytoExploreR</strong> has full support for log, arcsinh, biexponential and logicle transformations implemented in the flowWorkspace package. In this vignette we will demonstrate how <strong>CytoExploreR</strong> facilitates fine tuning of transformation parameters and how these optimised transformations can be applied cytometry data. For consistency with the RGLab suite of cytometry data analysis packages, <strong>CytoExploreR</strong> uses a series of wrapper functions to add support for these transformations with improved support for customisation. Below is a list of the key functions that you will encounter in this vignette:</p>
<ul>
<li>
<code>cyto_transformer_log</code> implements the <code>flowjo_log_trans</code> version of the log transformation.</li>
<li>
<code>cyto_transformer_arcsinh</code> implements the <code>asing_Gml2</code> version of the arcsinh transformation.</li>
<li>
<code>cyto_transformer_biex</code> implements the <code>flowjo_biexp</code> version of the biexponential transformation.</li>
<li>
<code>cyto_transformer_logicle</code> implements the <code>estimateLogicle</code> version of the logicle transformation.</li>
<li>
<code>cyto_transformer_combine</code> combines individual transformation definitions into a single list of transformers that can be applied to the data using <code>cyto_transform</code>.</li>
<li>
<code>cyto_transform</code> is capable of automatically computing transformers and is used to apply a set of transformers to the data.
</li>
</ul>
</div>

</div>
<div id="demonstration" class="section level1">
<h1 class="hasAnchor">
<a href="#demonstration" class="anchor"></a>Demonstration</h1>
<div style="line-height: 1.8em;">
To demonstrate the use of the transformation functions, we will need to download the Activation FCS files shipped with <strong>CytoExploreRData</strong>. If you have not already done so, these FCS files can be easily downloaded to a folder in your current working directory by following these steps:
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Load required packages</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(CytoExploreR)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(CytoExploreRData)</span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co"># Activation dataset </span></span>
<span id="cb1-6"><a href="#cb1-6"></a>Activation</span>
<span id="cb1-7"><a href="#cb1-7"></a></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="co"># Save Activation dataset FCS files to Activation-Samples folder</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="kw"><a href="../reference/cyto_save.html">cyto_save</a></span>(Activation, <span class="dt">save_as =</span> <span class="st">"Activation-Samples"</span>)</span></code></pre></div>
<div style="line-height: 1.8em;">
Now hat we have the FCS files stored locally, let’s setup up the Activation GatingSet using <code>cyto_setup</code>. It is recommended that experiment details be filled in at this point as this information can be used to easily select samples to use when customising transformations. If your computer struggles with applying the transformations, it is recommended that you set the <strong>restrict</strong> argument to TRUE in <code>cyto_setup</code> to restrict the data to only the parameters for which markers have been assigned. Although not required for this vignette, it is always a good idea to ensure that the data has been compensated prior to data transformations. The spillover matrices attached to each of the files can be applied using <code>cyto_compensate</code>.
</div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Activation GatingSet</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>gs &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cyto_setup.html">cyto_setup</a></span>(<span class="st">"Activation-Samples"</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co"># Apply compensation</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>gs &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cyto_compensate.html">cyto_compensate</a></span>(gs)</span></code></pre></div>
<div style="line-height: 1.8em;">
Next we will demonstrate the use of the different <code>cyto_transformer</code> functions to obtain optimised transformation definitions for each of the fluorescent channels. These transformer functions will automatically pool the supplied data, apply the transformation using the specified parameters to the specified channels and plot the resultant transformed data using <code>cyto_plot</code>. The definition of the transformation can be altered by changing the arguments of the underlying flowWorkspace transformer function. It is important to note that these <code>cyto_transformer</code> functions do not apply these transformers to the data, they are purely used to optimise the transformers prior to applying the combined transformers to the data using <code>cyto_transform</code>. As a result, these <code>cyto_transformer</code> functions do not return the transformed data, but instead the transformer definitions that can be applied to the data using <code>cyto_transform</code>.
</div>
<div id="batch-transform-fluorescent-channels" class="section level2">
<h2 class="hasAnchor">
<a href="#batch-transform-fluorescent-channels" class="anchor"></a>Batch Transform Fluorescent Channels</h2>
<div style="line-height: 1.8em;">
To make things a little easier, all these <code>cyto_transformer</code> functions will automatically generate transformers for all fluorescent channels. To obtain transformers for a specific set of parameters. simply supply the names of these channels/markers to the <strong>channels</strong> argument. To use a specific subset of the data to visualise and customise the transformations, users can supply specific slection criteria to the <strong>select</strong> argument. Next we will explore each of these <code>cyto_transformer</code> functions to obtain transformation definitions for all the fluorescent channels. This provides a quick overview of all possible transformer types to identify those that provide the best visualisation of the data.
</div>
</div>
<div id="log-transformation" class="section level2">
<h2 class="hasAnchor">
<a href="#log-transformation" class="anchor"></a>Log Transformation</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Default log transformer</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>trans_log &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cyto_transformer_log.html">cyto_transformer_log</a></span>(gs)</span></code></pre></div>
<p><img src="Transformations/Transformations-4.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div id="arcsinh-transformation" class="section level2">
<h2 class="hasAnchor">
<a href="#arcsinh-transformation" class="anchor"></a>Arcsinh Transformation</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># Default arcsinh transformer</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>trans_arcsinh &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cyto_transformer_arcsinh.html">cyto_transformer_arcsinh</a></span>(gs)</span></code></pre></div>
<p><img src="Transformations/Transformations-5.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div id="biexponential-transformation" class="section level2">
<h2 class="hasAnchor">
<a href="#biexponential-transformation" class="anchor"></a>Biexponential Transformation</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Default biexponentail transformer</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>trans_biex &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cyto_transformer_biex.html">cyto_transformer_biex</a></span>(gs)</span></code></pre></div>
<p><img src="Transformations/Transformations-6.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div id="logicle-transformation" class="section level2">
<h2 class="hasAnchor">
<a href="#logicle-transformation" class="anchor"></a>Logicle Transformation</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># Default biexponentail transformer</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>trans_logicle &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cyto_transformer_logicle.html">cyto_transformer_logicle</a></span>(gs)</span></code></pre></div>
<p><img src="Transformations/Transformations-7.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div id="optimisation-of-transformation-parameters" class="section level2">
<h2 class="hasAnchor">
<a href="#optimisation-of-transformation-parameters" class="anchor"></a>Optimisation of Transformation Parameters</h2>
<div style="line-height: 1.8em;">
In the examples above, we showed how we can quickly apply different types of transformations to all the fluorescent channels to identify which transformation type to use for each fluorescent channel. Based on these plots, it seems as though the logicle transformation provides the best overall result when using the default settings. In my experience, I find the logicle transformation to perform consistently the best for flow cytometry data, and it often does not even require much optimisation. For the purpose of demonstration, I will therefore switch over to the biexponential transformations to show you how we can optimise these transformation parameters to better visualise the data. Based on the plots above (green) it seems as if we can improve the transformer definitions for the PE-A and 7-AAD-A parameters. Firstly, let’s remove the unwanted transformer definitions from <code>trans_biex</code> which contains our transformation definitions for all the fluorescent channels.
</div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># Remove PE-A &amp; 7-AAD-A transformers </span></span>
<span id="cb7-2"><a href="#cb7-2"></a>trans_biex &lt;-<span class="st"> </span>trans_biex[<span class="op">-</span><span class="kw"><a href="https://rdrr.io/r/base/match.html">match</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"PE-A"</span>, <span class="st">"7-AAD-A"</span>), <span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(trans_biex))]</span>
<span id="cb7-3"><a href="#cb7-3"></a></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co"># Check transformers have been removed</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>trans_biex</span></code></pre></div>
<div style="line-height: 1.8em;">
Let’s spend some time optimising the biexponential transformation for the PE channel. Since the parameters for the transformers are defined in the <strong>flowWorkspace</strong> package, we will need to refer to that documentation to optimise the transformers. Running <code><a href="../reference/cyto_transformer_biex.html">?cyto_transformer_biex</a></code> will open the help documentation that contains links to the relevant documents in <strong>flowWorkspace</strong>. After consulting these documents, it looks like we can use the <code>widthBasis</code> argument to fine-tune the transformation definition. The default value is set to -10, so let’s try changing this to -100 and -1000 to see if it improves the visualisation of the data.
</div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># default PE transformer</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>PE_biex &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cyto_transformer_biex.html">cyto_transformer_biex</a></span>(gs,</span>
<span id="cb8-3"><a href="#cb8-3"></a>                                 <span class="dt">channels =</span> <span class="st">"PE-A"</span>,</span>
<span id="cb8-4"><a href="#cb8-4"></a>                                 <span class="dt">widthBasis =</span> <span class="dv">-10</span>)</span></code></pre></div>
<p><img src="Transformations/Transformations-8.png" width="60%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># PE transformer</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>PE_biex &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cyto_transformer_biex.html">cyto_transformer_biex</a></span>(gs,</span>
<span id="cb9-3"><a href="#cb9-3"></a>                                 <span class="dt">channels =</span> <span class="st">"PE-A"</span>,.</span>
<span id="cb9-4"><a href="#cb9-4"></a>                                 <span class="dt">widthBasis =</span> <span class="dv">-100</span>)</span></code></pre></div>
<p><img src="Transformations/Transformations-9.png" width="60%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># PE transformer</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>PE_biex &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cyto_transformer_biex.html">cyto_transformer_biex</a></span>(gs,</span>
<span id="cb10-3"><a href="#cb10-3"></a>                                 <span class="dt">channels =</span> <span class="st">"PE-A"</span>,.</span>
<span id="cb10-4"><a href="#cb10-4"></a>                                 <span class="dt">widthBasis =</span> <span class="dv">-1000</span>)</span></code></pre></div>
<p><img src="Transformations/Transformations-10.png" width="60%" style="display: block; margin: auto;"></p>
<div style="line-height: 1.8em;">
Based on these plots and our understanding of the underlying biology, it looks like a widthBasis of -100 will provide a decent visualisation of the data. Before we can apply our transformers to the data. We will need to combine our transformers into a single list of transformers using <code>cyto_transformer_combine</code>.
</div>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># PE transformer</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>PE_biex &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cyto_transformer_biex.html">cyto_transformer_biex</a></span>(gs,</span>
<span id="cb11-3"><a href="#cb11-3"></a>                                 <span class="dt">channels =</span> <span class="st">"PE-A"</span>,.</span>
<span id="cb11-4"><a href="#cb11-4"></a>                                 <span class="dt">widthBasis =</span> <span class="dv">-100</span>)</span>
<span id="cb11-5"><a href="#cb11-5"></a></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="co"># Combine transformer definitions</span></span>
<span id="cb11-7"><a href="#cb11-7"></a>trans &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cyto_transformer_combine.html">cyto_transformer_combine</a></span>(trans_biex, </span>
<span id="cb11-8"><a href="#cb11-8"></a>                                  PE_biex, </span>
<span id="cb11-9"><a href="#cb11-9"></a>                                  trans_logicle[<span class="st">"7-AAD-A"</span>])</span>
<span id="cb11-10"><a href="#cb11-10"></a></span>
<span id="cb11-11"><a href="#cb11-11"></a><span class="co"># All transformer definitions</span></span>
<span id="cb11-12"><a href="#cb11-12"></a>trans</span></code></pre></div>
</div>
<div id="apply-manually-optimised-transformers-to-data" class="section level2">
<h2 class="hasAnchor">
<a href="#apply-manually-optimised-transformers-to-data" class="anchor"></a>Apply Manually-Optimised Transformers to Data</h2>
<div style="line-height: 1.8em;">
The complete list of transformers can be applied to the data using <code>cyto_transform</code>. It is important to optimise the transformers before using <code>cyto_transform</code> as it is not currently possible to inverse the transformations applied to a GatingSet.
</div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># Apply transformers to data</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>gs &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cyto_transform.html">cyto_transform</a></span>(gs,</span>
<span id="cb12-3"><a href="#cb12-3"></a>                     <span class="dt">trans =</span> trans)</span></code></pre></div>
</div>
<div id="apply-default-transformers-to-data" class="section level2">
<h2 class="hasAnchor">
<a href="#apply-default-transformers-to-data" class="anchor"></a>Apply Default Transformers to Data</h2>
<div style="line-height: 1.8em;">
<code>cyto_transform</code> can also apply batch transformers to the data using the flowWorkspace defaults. Simply indicate the type of transformation to apply through the <code>type</code> argument and <code>cyto_transform</code> will make a call to the relevant <code>cyto_transformer</code> function to obtain the transformer definitions using the defaults in flowWorkspace. These transformers will then be applied to the data within <code>cyto_transform</code> and the transformed data will be returned. It is important to note that transformer definitions cannot be customised on a per channel basis using this method. For this reason, it is recommended that the transformer definitions be optimised using the <code>cyto_transformer</code> functions prior to apply them to the data using <code>cyto_transform</code>.
</div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># Activation GatingSet</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>gs &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cyto_setup.html">cyto_setup</a></span>(<span class="st">"Activation-Samples"</span>)</span>
<span id="cb13-3"><a href="#cb13-3"></a></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="co"># Apply compensation</span></span>
<span id="cb13-5"><a href="#cb13-5"></a>gs &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cyto_compensate.html">cyto_compensate</a></span>(gs)</span>
<span id="cb13-6"><a href="#cb13-6"></a></span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="co"># Apply transformers</span></span>
<span id="cb13-8"><a href="#cb13-8"></a>gs &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cyto_transform.html">cyto_transform</a></span>(gs,</span>
<span id="cb13-9"><a href="#cb13-9"></a>                     <span class="dt">type =</span> <span class="st">"logicle"</span>)</span></code></pre></div>
</div>
</div>
<div id="summary" class="section level1">
<h1 class="hasAnchor">
<a href="#summary" class="anchor"></a>Summary</h1>
<div style="line-height: 1.8em;">
Data transformations are essential to appropriate visualisation of cytometry data. <strong>CytoExploreR</strong> inherits support for the log, arcsinh, biexponential and logicle from the flowWorkspace package. Transformation parameters can be optimised using a <code>cyto_transformer</code> function, by altering the parameters in the underlying flowWorkspace function. Transformers can be applied to the data using <code>cyto_transform</code>. <code>cyto_transform</code> is also capable of applying batch transformers using the default flowWorkspace parameters. Flow cytometry users must remember to always apply the data transformations post compensation.
</div>
<p><br></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li>
<a href="#demonstration">Demonstration</a>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#batch-transform-fluorescent-channels">Batch Transform Fluorescent Channels</a></li>
      <li><a href="#log-transformation">Log Transformation</a></li>
      <li><a href="#arcsinh-transformation">Arcsinh Transformation</a></li>
      <li><a href="#biexponential-transformation">Biexponential Transformation</a></li>
      <li><a href="#logicle-transformation">Logicle Transformation</a></li>
      <li><a href="#optimisation-of-transformation-parameters">Optimisation of Transformation Parameters</a></li>
      <li><a href="#apply-manually-optimised-transformers-to-data">Apply Manually-Optimised Transformers to Data</a></li>
      <li><a href="#apply-default-transformers-to-data">Apply Default Transformers to Data</a></li>
      </ul>
</li>
      <li><a href="#summary">Summary</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Dillon Hammill.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
