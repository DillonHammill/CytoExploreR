<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create dimension-reduced maps of cytometry data — cyto_map • CytoExploreR</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Create dimension-reduced maps of cytometry data — cyto_map" />
<meta property="og:description" content="cyto_map is a convenient wrapper to produce dimension-reduced maps of
cytometry data using PCA, tSNE, FIt-SNE, UMAP and EmbedSOM. These
dimensionality reduction functions are called using the default settings, but
can be altered by passing relvant arguments through cyto_map. To see a
full list of customisable parameters refer to the documentation for each of
these functions by clicking on the links below." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CytoExploreR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/CytoExploreR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/CytoExploreR-Compensation.html">Compensation of Fluorescent Spillover</a>
    </li>
    <li>
      <a href="../articles/CytoExploreR-Manual-Gating.html">Manual Gating</a>
    </li>
    <li>
      <a href="../articles/CytoExploreR-Transformations.html">Data Transformations</a>
    </li>
    <li>
      <a href="../articles/CytoExploreR-Visualisations.html">Viualise Cytometry Data with cyto_plot()</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/DillonHammill/CytoExploreR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create dimension-reduced maps of cytometry data</h1>
    <small class="dont-index">Source: <a href='https://github.com/DillonHammill/CytoExploreR/blob/master/R/cyto_map.R'><code>R/cyto_map.R</code></a></small>
    <div class="hidden name"><code>cyto_map.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>cyto_map</code> is a convenient wrapper to produce dimension-reduced maps of
cytometry data using PCA, tSNE, FIt-SNE, UMAP and EmbedSOM. These
dimensionality reduction functions are called using the default settings, but
can be altered by passing relvant arguments through <code>cyto_map</code>. To see a
full list of customisable parameters refer to the documentation for each of
these functions by clicking on the links below.</p>
    </div>

    <pre class="usage"><span class='fu'>cyto_map</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='co'># S3 method for GatingSet</span>
<span class='fu'>cyto_map</span>(
  <span class='no'>x</span>,
  <span class='kw'>parent</span> <span class='kw'>=</span> <span class='st'>"root"</span>,
  <span class='kw'>select</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>channels</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>display</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"UMAP"</span>,
  <span class='kw'>merge_by</span> <span class='kw'>=</span> <span class='st'>"all"</span>,
  <span class='kw'>split</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>names</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>save_as</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>inverse</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>trans</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>plot</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>seed</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>...</span>
)

<span class='co'># S3 method for flowSet</span>
<span class='fu'>cyto_map</span>(
  <span class='no'>x</span>,
  <span class='kw'>select</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>channels</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>display</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"UMAP"</span>,
  <span class='kw'>merge_by</span> <span class='kw'>=</span> <span class='st'>"all"</span>,
  <span class='kw'>split</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>names</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>save_as</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>inverse</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>trans</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>plot</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>seed</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>...</span>
)

<span class='co'># S3 method for flowFrame</span>
<span class='fu'>cyto_map</span>(
  <span class='no'>x</span>,
  <span class='kw'>channels</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>display</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"UMAP"</span>,
  <span class='kw'>split</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>names</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>save_as</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>inverse</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>trans</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>plot</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>seed</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>object of class <code>flowFrame</code> or <code>flowSet</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments passed to the called dimension reduction
function. Links to the documentation for these functions can be found
below.</p></td>
    </tr>
    <tr>
      <th>parent</th>
      <td><p>name of the parent population to extract from
<code>GatingHierarchy</code> or <code>GatingSet</code> objects for mapping, set to the
<code>"root"</code> node by default.</p></td>
    </tr>
    <tr>
      <th>select</th>
      <td><p>designates which samples should be used for mapping when a
<code>flowSet</code> or <code>GatingSet</code> object is supplied. Filtering steps
should be comma separated and wrapped in a list. Refer to
<code><a href='cyto_select.html'>cyto_select</a></code>.</p></td>
    </tr>
    <tr>
      <th>channels</th>
      <td><p>vector of channels names indicating the channels that should
be used by the dimension reduction algorithm to compute the 2-dimensional
map, set to all channels with assigned markers by default. Restricting the
number of channels can greatly improve processing speed and resolution.</p></td>
    </tr>
    <tr>
      <th>display</th>
      <td><p>total number of events to map, all events in the combined data
are mapped by default.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>dimension reduction type to use to generate the map, supported
options include "PCA", "tSNE", "FIt-SNE", "UMAP" and "EmbedSOM". Users can
also supply the name of a function to perform custom mappings.</p></td>
    </tr>
    <tr>
      <th>merge_by</th>
      <td><p>vector of experimental variables to split and merge samples
into groups prior to mapping, set to "all" by default to create a single
consensus map.</p></td>
    </tr>
    <tr>
      <th>split</th>
      <td><p>logical indicating whether samples merged using
<code>cyto_merge_by</code> should be split prior to writing fcs files, set to
FALSE by default.</p></td>
    </tr>
    <tr>
      <th>names</th>
      <td><p>original names of the samples prior to merging using
<code>cyto_merge_by</code>, only required when split is TRUE. These names will be
re-assigned to each of split flowFrames and included in the file names.</p></td>
    </tr>
    <tr>
      <th>save_as</th>
      <td><p>passed to <code>cyto_save</code> to indicate a folder where the
mapped FCS files should be saved, set to NULL by default to turn off saving
of FCS files.</p></td>
    </tr>
    <tr>
      <th>inverse</th>
      <td><p>logical indicating whether the data should be inverse
transformed prior to writing FCS files, set to FALSE by default. Inverse
transformations of <code>flowFrame</code> or <code>flowSet</code> objects requires
passing of transformers through the <code>trans</code> argument.</p></td>
    </tr>
    <tr>
      <th>trans</th>
      <td><p>object of class <code>transformerList</code> containing the
transformation definitions applied to the supplied data. Used internally
when <code>inverse_transform</code> is TRUE, to inverse the transformations prior
to writing FCS files.</p></td>
    </tr>
    <tr>
      <th>plot</th>
      <td><p>logical indicating whether the constructed map should be plotted
using <code>cyto_plot</code>.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>integer to set seed prior to mapping to ensure more consistent
results between runs.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>flowFrame, flowSet, GatingHierarchy or GatingSet containing the
  mapped projection parameters.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>If you use <code>cyto_map</code> to map your cytometry data, be sure to cite the
publication that describes the dimensionality reduction algorithm that you
have chosen to use. References to these publications can be found in the
references section of this document.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>N. B. Erichson, S. Voronin, S. L. Brunton and J. N. Kutz. 2019.
  Randomized Matrix Decompositions Using R. Journal of Statistical
  Software, 89(11), 1-48. <a href='http://doi.org/10.18637/jss.v089.i11'>http://doi.org/10.18637/jss.v089.i11</a>.</p>
<p>N. Halko, P. Martinsson, and J. Tropp. "Finding structure with
  randomness: probabilistic algorithms for constructing approximate matrix
  decompositions" (2009). (available at arXiv
  <a href='http://arxiv.org/abs/0909.4061'>http://arxiv.org/abs/0909.4061</a>).</p>
<p>Gabriel K. (1971). The biplot graphical display of matrices with
  application to principal component analysis. Biometrika 58, 453–467.
  <a href='doi:10.1093/biomet/58.3.453'>doi:10.1093/biomet/58.3.453</a>.</p>
<p>Maaten, L. van der, &amp; Hinton, G. (2008). Visualizing Data using
  t-SNE. Journal of Machine Learning Research 9, 2579–2605.
  <a href='http://www.jmlr.org/papers/volume9/vandermaaten08a/'>http://www.jmlr.org/papers/volume9/vandermaaten08a/</a>.</p>
<p>Linderman, G., Rachh, M., Hoskins, J., Steinerberger, S.,
  Kluger., Y. (2019). Fast interpolation-based t-SNE for improved
  visualization of single-cell RNA-seq data. Nature Methods.
  <a href='https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6402590/'>https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6402590/</a>.</p>
<p>McInnes, L., &amp; Healy, J. (2018). UMAP: uniform manifold
  approximation and projection for dimension reduction. Preprint at
  <a href='https://arxiv.org/abs/1802.03426'>https://arxiv.org/abs/1802.03426</a>.</p>
<p>Kratochvíl, M., Koladiya, A., Balounova, J., Novosadova, V.,
  Fišer, K., Sedlacek, R., Vondrášek, J., and Drbal, K. (2018). Rapid
  single-cell cytometry data visualization with EmbedSOM. Preprint at
  <a href='https://www.biorxiv.org/content/10.1101/496869v1'>https://www.biorxiv.org/content/10.1101/496869v1</a>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/pkg/rsvd/man/rpca.html'>PCA</a></code></p>
<p><code><a href='https://rdrr.io/pkg/Rtsne/man/Rtsne.html'>tSNE</a></code></p>
<p><code><a href='fftRtsne.html'>fftRtsne</a></code></p>
<p><code><a href='https://rdrr.io/pkg/umap/man/umap.html'>UMAP</a></code></p>
<p><code><a href='https://rdrr.io/pkg/EmbedSOM/man/SOM.html'>SOM</a></code></p>
<p><code><a href='https://rdrr.io/pkg/EmbedSOM/man/EmbedSOM.html'>EmbedSOM</a></code></p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Dillon Hammill.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


